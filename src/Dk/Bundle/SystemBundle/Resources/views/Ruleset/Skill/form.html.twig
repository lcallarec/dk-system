{% extends 'DkSystemBundle::board.html.twig' %}

{% set current_page = 'skills' %}

{% block title %}
    Gestion des compétences du système <strong>{{ form.vars.value.name }}</strong>
{% endblock %}

{% form_theme form _self %}

{% block _ruleset_skills_entry_widget %}
   <h3>{{ form.vars.value.name }}</h3>
   {{ form_widget(form.name) }}
   {{ form_errors(form.name) }}
   {{ form_widget(form.char1) }}
   {{ form_widget(form.char2) }}
   {{ form_widget(form.overloadMalus) }}
   {{ form_widget(form.description, {attr: {style:"width: 100%;"}}) }}
   {{ form_errors(form.description) }}   
   
{% endblock %}

{% block board_content %}
    
    {{ include('DkSystemBundle:Ruleset:menu.html.twig') }}
    
    {{ form_start(form, {attr: {role: 'form', novalidate: 'novalidate', class: 'form-horizontal'}}) }}

        {% set group = null %}
        {% for skill in form.skills %}
            {% if skill.vars.value.group.name != group %}
               <h2>{{ skill.vars.value.group.name }}</h2>
            {% endif %}

            {{ form_widget(skill) }}
            <hr />
            {% set group = skill.vars.value.group.name %}
        {% endfor %}
      
    {{ form_end(form) }}


{% endblock %}